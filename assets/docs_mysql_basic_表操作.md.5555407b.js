import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.45bffcbf.js";const p=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/mysql/basic/表操作.md","lastUpdated":1695875462000}'),e={name:"docs/mysql/basic/表操作.md"},o=[l('<h2 id="存储引擎" tabindex="-1">存储引擎 <a class="header-anchor" href="#存储引擎" aria-label="Permalink to &quot;存储引擎&quot;">​</a></h2><p>表的类型就是存储引擎。最常用的就是 <code>InnoDB</code> （目前的主流）支持事务，行锁，外键。此外还有</p><ul><li><code>myisam</code>: <code>mysql 5.6</code> 之前使用的存储引擎，支持全文检索</li><li><code>memory</code>: 缓存存储引擎，插入的数据不会被真正的存储到硬盘中，会在内存中存储，重启后数据消失</li><li><code>blackhole</code>: 黑洞存储引擎，任何写入的数据都不会被存储，主要用于测试或者丢弃不需要的写入数据。</li></ul><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">show engines; </span><span style="color:#676E95;font-style:italic;">-- 查看表支持的存储引擎</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| Engine             | Support | Comment                                                        | Transactions | XA   | Savepoints |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| InnoDB             | DEFAULT | Supports transactions, row-level locking, and foreign keys     | YES          | YES  | YES        |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| MRG_MYISAM         | YES     | Collection of identical MyISAM tables                          | NO           | NO   | NO         |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| MEMORY             | YES     | Hash based, stored in memory, useful for temporary tables      | NO           | NO   | NO         |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| BLACKHOLE          | YES     | /dev/null storage engine (anything you write to it disappears) | NO           | NO   | NO         |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| MyISAM             | YES     | MyISAM storage engine                                          | NO           | NO   | NO         |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| CSV                | YES     | CSV storage engine                                             | NO           | NO   | NO         |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| ARCHIVE            | YES     | Archive storage engine                                         | NO           | NO   | NO         |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| PERFORMANCE_SCHEMA | YES     | Performance Schema                                             | NO           | NO   | NO         |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| FEDERATED          | NO      | Federated MySQL storage engine                                 | NULL         | NULL | NULL       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">9 rows in set (0.00 sec)</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- 新建 db2 数据库基于不同存储引擎创建表</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">database</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">db2</span><span style="color:#A6ACCD;"> charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8;</span></span>\n<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#A6ACCD;"> db2;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t1</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">char</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)) charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8 engine</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">blackhole;</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t2</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">char</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)) charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8 engine</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">innodb;</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t3</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">char</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)) charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8 engine</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">memory;</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t4</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">char</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)) charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8 engine</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">myisam;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 针对四张表每个都插入一条数据</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t1 (</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t2 (</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t3 (</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t4 (</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 执行 select 语句查询数据；</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 结果 t2, t3, t4 都有数据</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 重启 mysql 服务后 t3 数据也会消失</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>针对不同的存储引擎，查看 <code>mysql</code> 都创建了什么文件？</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">-rw-r-----</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">61</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Sep</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">26</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">54</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">db.opt</span></span>\n<span class="line"><span style="color:#FFCB6B;">-rw-r-----</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">8586</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Sep</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">26</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">58</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">t1.frm</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 只有结构文件，因为它根本就不存储数据</span></span>\n<span class="line"><span style="color:#FFCB6B;">-rw-r-----</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">8586</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Sep</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">26</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">58</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">t2.frm</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># innodb 分别存储结构文件和数据文件</span></span>\n<span class="line"><span style="color:#FFCB6B;">-rw-r-----</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">98304</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Sep</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">26</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">11</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">03</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">t2.ibd</span></span>\n<span class="line"><span style="color:#FFCB6B;">-rw-r-----</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">8586</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Sep</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">26</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">59</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">t3.frm</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 只有结构文件，因为不会有数据存储到磁盘</span></span>\n<span class="line"><span style="color:#FFCB6B;">-rw-r-----</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">8586</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Sep</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">26</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">59</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">t4.frm</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># myisam 的结构文件</span></span>\n<span class="line"><span style="color:#FFCB6B;">-rw-r-----</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">17</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Sep</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">26</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">11</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">03</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">t4.MYD</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># myisam 数据文件</span></span>\n<span class="line"><span style="color:#FFCB6B;">-rw-r-----</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">1024</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Sep</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">26</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">11</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">06</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">t4.MYI</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># myisam 索引文件，表的索引、行数等关键数据</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="表的操作" tabindex="-1">表的操作 <a class="header-anchor" href="#表的操作" aria-label="Permalink to &quot;表的操作&quot;">​</a></h2><h3 id="创建表语法" tabindex="-1">创建表语法 <a class="header-anchor" href="#创建表语法" aria-label="Permalink to &quot;创建表语法&quot;">​</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">表名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> (</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">字段1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">字段类型</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">[(宽度)] [约束条件],</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">字段2</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">字段类型</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">[(宽度)] [约束条件],</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">字段3</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">字段类型</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">[(宽度)] [约束条件1 约束条件2]</span></span>\n<span class="line"><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 宽度指字符的个数，也就是字符串的长度</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>约束条件</strong></p><ul><li><code>unsigned</code> 无符号</li><li><code>not null</code> 非空, 字符类型空字符串填充，数字类型 0 填充。优先级较低，卸载条件的最后。</li><li><code>zerofill</code> 0 填充，当指定数字宽度的时候位数不足的会以 0 进行填充</li></ul><h3 id="修改表语法" tabindex="-1">修改表语法 <a class="header-anchor" href="#修改表语法" aria-label="Permalink to &quot;修改表语法&quot;">​</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- 修改存储引擎</span></span>\n<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">表名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> engine</span><span style="color:#89DDFF;">=&lt;</span><span style="color:#A6ACCD;">新的存储引擎</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 修改表名</span></span>\n<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">表名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> rename </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">新表名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 增加字段 first 插入到最前面，after 字段名 某个字段的后面</span></span>\n<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">表名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">字段名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">字段类型</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">[(宽度)] [约束条件] [first|after &lt;字段名&gt;];</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 删除字段</span></span>\n<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">表名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">drop</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">字段名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 修改字段类型</span></span>\n<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">表名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">modify</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">字段名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">字段类型</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">[(宽度)] [约束条件];</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 修改表字段</span></span>\n<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">表名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> change </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">旧字段名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">新字段名</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#A6ACCD;">字段类型</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">[(宽度)] [约束条件];</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>约束条件就是，当在操作数据的时候，增加一些条件，比如创建一个表, 再去查询表的字段信息, 可以看出第三列是允许为 <code>null</code> 值的可以往里面插入空的内容, 内容如下：</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t6</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">char</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)) charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8;</span></span>\n<span class="line"><span style="color:#A6ACCD;">describe t6;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+---------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| Field | Type    | Null | Key | Default | Extra |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+---------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| id    | int(11) | YES  |     | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| name  | char(4) | YES  |     | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+---------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">2 rows in set (0.00 sec)</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t6 </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">null</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">null</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> t6;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| id   | name |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| NULL | NULL |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">1 row in set (0.00 sec)</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>此时就可以通过约束条件，在建表或者表内没有不允许的数据时去增加约束条件，比如表内已经存在 <code>null</code> 值你在去修改这个字段不能为 <code>null</code> 是无法修改成功的。</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- 创建 table</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t7</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">char</span><span style="color:#A6ACCD;">) charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 设置 id 不能为null</span></span>\n<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> t7 </span><span style="color:#F78C6C;">modify</span><span style="color:#A6ACCD;"> id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">not null</span><span style="color:#A6ACCD;">;</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 修改 name 的字段名并且设置不能为 null</span></span>\n<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> t7 change </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">Name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">char</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">not null</span><span style="color:#A6ACCD;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#A6ACCD;">describe t7;</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+---------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| Field | Type    | Null | Key | Default | Extra |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+---------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| id    | int(11) | NO   |     | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| Name  | char(1) | NO   |     | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+---------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">2 rows in set (0.00 sec)</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="删除和复制表语法" tabindex="-1">删除和复制表语法 <a class="header-anchor" href="#删除和复制表语法" aria-label="Permalink to &quot;删除和复制表语法&quot;">​</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- 删除表</span></span>\n<span class="line"><span style="color:#F78C6C;">drop</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">表名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 复制表内容以及表结构</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- * 可以指定对应的字段，那么就是只复制这几个字段的内容</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 条件成立就是符合条件的查询内容和表结构，如果条件不成立就是复制表结构</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">新表名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">旧表名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> [条件];</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 复制表结构</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">新表名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">like</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">旧表名</span><span style="color:#89DDFF;">&gt;</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>具体测试<strong>复制表内容以及表结构</strong>如下：</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-Ro0Nx" id="tab-TGHgP9E" checked="checked"><label for="tab-TGHgP9E">target</label><input type="radio" name="group-Ro0Nx" id="tab-kOnCfCz"><label for="tab-kOnCfCz">source</label></div><div class="blocks"><div class="language-sql active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">movies 表内容及结构如下</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+--------------+------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| id   | name         | dir  |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+--------------+------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">|    1 | 流浪地球     | NULL |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">|    2 | 满江红       | NULL |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+--------------+------+</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+----------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| Field | Type     | Null | Key | Default | Extra |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+----------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| id    | int(11)  | YES  |     | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| name  | char(4)  | YES  |     | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| dir   | char(16) | YES  |     | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+----------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- 复制 movies 表内容及结构到 t1 表。</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t1</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> movies;</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 可执行的验证脚本如下：</span></span>\n<span class="line"><span style="color:#A6ACCD;">show tables;</span></span>\n<span class="line"><span style="color:#A6ACCD;">describe t1;</span></span>\n<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> t1;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 复制 id 为 1 内容到 t2 表</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t2</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> movies </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> id</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 只复制 id 到 t3 表, 并只复制表结构</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t3</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> id </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> movies </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">; </span><span style="color:#676E95;font-style:italic;">-- where 后的表达式永远不成立，则只会</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 复制表结构</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t4</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">like</span><span style="color:#A6ACCD;"> movies;</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></div></div><h2 id="数据类型" tabindex="-1">数据类型 <a class="header-anchor" href="#数据类型" aria-label="Permalink to &quot;数据类型&quot;">​</a></h2><h3 id="数值类型" tabindex="-1">数值类型 <a class="header-anchor" href="#数值类型" aria-label="Permalink to &quot;数值类型&quot;">​</a></h3><h4 id="int" tabindex="-1">int <a class="header-anchor" href="#int" aria-label="Permalink to &quot;int&quot;">​</a></h4><p><strong>科普：1 字节等价于 8 比特，8 个二进制数存储数字最大就是 255</strong></p><table><thead><tr><th>类型</th><th style="text-align:center;">大小</th><th style="text-align:right;">范围(有符号)</th><th style="text-align:right;">范围(无符号)</th><th style="text-align:right;">描述</th></tr></thead><tbody><tr><td><code>tinyint</code></td><td style="text-align:center;"><code>1 Bytes</code></td><td style="text-align:right;"><code>-128, 127</code></td><td style="text-align:right;"><code>0, 255</code></td><td style="text-align:right;">很小的整数</td></tr><tr><td><code>smallint</code></td><td style="text-align:center;"><code>2 Bytes</code></td><td style="text-align:right;"><code>-32768, 32767</code></td><td style="text-align:right;"><code>0, 65535</code></td><td style="text-align:right;">较小的整数</td></tr><tr><td><code>mediumint</code></td><td style="text-align:center;"><code>3 Bytes</code></td><td style="text-align:right;"><code>-8388608, 8388607</code></td><td style="text-align:right;"><code>0, 16777215</code></td><td style="text-align:right;">一般的整数</td></tr><tr><td><code>int</code></td><td style="text-align:center;"><code>4 Bytes</code></td><td style="text-align:right;"><code>-2147483648, 2147483647</code></td><td style="text-align:right;"><code>0, 4294967295</code></td><td style="text-align:right;">标准的整数</td></tr><tr><td><code>bigint</code></td><td style="text-align:center;"><code>5 Bytes</code></td><td style="text-align:right;"><code>-9223372036854775808, 9223372036854775807</code></td><td style="text-align:right;"><code>0, 18446744073709551615</code></td><td style="text-align:right;">一般的整数</td></tr></tbody></table><p>以 <code>tinyint</code> 为例，数据库字段最大被插入的范围就应该是 <code>-128, 127</code> 之间的数字，如果大于这个数字就不能被插入到数据库。示例代码如下：</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t1</span><span style="color:#A6ACCD;"> (n </span><span style="color:#F78C6C;">tinyint</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 插入符合规范的最大数</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t1 </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">128</span><span style="color:#A6ACCD;">), (</span><span style="color:#F78C6C;">127</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> t1;</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| n    |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| -128 |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">|  127 |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">2 rows in set (0.00 sec)</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 插入不符合规范的数</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t1 </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">129</span><span style="color:#A6ACCD;">), (</span><span style="color:#F78C6C;">128</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- ERROR 1264 (22003): Out of range value for column &#39;n&#39; at row 1</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>默认情况下创建出来的字段都是有符号的，如果需要创建无符号的字段就需要另一个约束条件 <code>unsigned</code></strong></p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- 给 t1 增加一个约束条件的字段</span></span>\n<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> t1 </span><span style="color:#F78C6C;">add</span><span style="color:#A6ACCD;"> m </span><span style="color:#F78C6C;">tinyint</span><span style="color:#A6ACCD;"> unsigned;</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t1 </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">255</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">可以看出插入的数据没有默认值，就会显示为 NULL, 思考如果在加上 not null 约束条件后呢？</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| n    | m    |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| -128 | NULL |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">|  127 | NULL |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">|    1 |  255 |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 创建字段 y 为无符号约束，并且不能为 null, 结果是应该为 NULL 地方全部变成 0</span></span>\n<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> t1 </span><span style="color:#F78C6C;">add</span><span style="color:#A6ACCD;"> y </span><span style="color:#F78C6C;">tinyint</span><span style="color:#A6ACCD;"> unsigned </span><span style="color:#F78C6C;">not null</span><span style="color:#A6ACCD;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 如果不能为空的字符类型就对应的是空字符串</span></span>\n<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> t1 </span><span style="color:#F78C6C;">add</span><span style="color:#A6ACCD;"> x </span><span style="color:#C792EA;">char</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">not null</span><span style="color:#A6ACCD;">;</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>整型的宽度实际上是显示字符的宽度，与字符串没有关系。意义实际上并不大。如果想要验证显示字符的宽度，需要用到约束条件 <code>zerofill</code> 0 填充。</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t3</span><span style="color:#A6ACCD;"> (n </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">) zerofill) charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8;</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t3 </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">), (</span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">), (</span><span style="color:#F78C6C;">123</span><span style="color:#A6ACCD;">), (</span><span style="color:#F78C6C;">1234567</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/** 不足三位的 0 补齐, 大于三位的 0 处理。</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+---------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| n       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+---------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">|     001 |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">|     012 |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">|     123 |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| 1234567 |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+---------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 如果不指定宽度的话，无符号的宽度会比有符号的宽度少 1， 因为有符号多存了一个负号</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t4</span><span style="color:#A6ACCD;"> (x </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">not null</span><span style="color:#A6ACCD;">, y </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> zerofill unsigned </span><span style="color:#F78C6C;">not null</span><span style="color:#A6ACCD;">) charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8 engine</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">innodb;</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+---------------------------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| Field | Type                      | Null | Key | Default | Extra |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+---------------------------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| x     | int(11)                   | NO   |     | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| y     | int(10) unsigned zerofill | NO   |     | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+---------------------------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="float" tabindex="-1">float <a class="header-anchor" href="#float" aria-label="Permalink to &quot;float&quot;">​</a></h4><p><strong>注意：第一个参数表示字符长度，第二个参数表示小数长度， 比如 float(255, 30) 那么这个字段就是 255-30 整数字符数，小数字符数为 30</strong></p><p><strong>float 和 double 还会有精度问题，但是一般情况下也足够了，decimal 精度较高常用于一些金融、数据分析类数据</strong></p><table><thead><tr><th>类型</th><th style="text-align:center;">大小</th><th style="text-align:right;">范围(有符号)</th><th style="text-align:right;">范围(无符号)</th><th style="text-align:right;">描述</th></tr></thead><tbody><tr><td><code>float</code></td><td style="text-align:center;"><code>4 Bytes</code>指定范围 m 最大值 255, d 最大值 30</td><td style="text-align:right;"><code>-3.4E+38 ~ -1.17E-38、0和1.17E-38 ~ 3.4E+38</code></td><td style="text-align:right;"><code>0 和 1.17E-38 到 3.4E+38</code></td><td style="text-align:right;">单精度浮点数值</td></tr><tr><td><code>double</code></td><td style="text-align:center;"><code>8 Bytes</code> 指定范围 m 最大值 255, d 最大值 30</td><td style="text-align:right;"><code>-1.7E+308 ~ -2.23E-308、0和2.23E-308 ~ 1.7E+308</code></td><td style="text-align:right;"><code>0 和 2.23E-308 到 1.7E+308</code></td><td style="text-align:right;">双精度浮点数值</td></tr><tr><td><code>decimal</code></td><td style="text-align:center;"><code>decimal(m,d)</code> 指定范围 m 最大值 65, d 最大值 30</td><td style="text-align:right;">依赖于 m 和 d 的值</td><td style="text-align:right;">依赖于 m 和 d 的值</td><td style="text-align:right;">小数值</td></tr></tbody></table><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- 创建指定字段的表</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t1</span><span style="color:#A6ACCD;"> (n </span><span style="color:#F78C6C;">float</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">255</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">30</span><span style="color:#A6ACCD;">)) charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8 engine</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">innodb;</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t2</span><span style="color:#A6ACCD;"> (n double(</span><span style="color:#F78C6C;">255</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">30</span><span style="color:#A6ACCD;">)) charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8 engine</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">innodb;</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t3</span><span style="color:#A6ACCD;"> (n </span><span style="color:#C792EA;">decimal</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">65</span><span style="color:#A6ACCD;">,  </span><span style="color:#F78C6C;">30</span><span style="color:#A6ACCD;">)) charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8 engine</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">innodb;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 插入 30 位小数的值</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t1 </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">111111111111111111111111111111</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+----------------------------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| n                                |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+----------------------------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| 0.111111111938953400000000000000 |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+----------------------------------+ */</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t2 </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">111111111111111111111111111111</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+----------------------------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| n                                |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+----------------------------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| 0.111111111111111100000000000000 |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+----------------------------------+ */</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t3 </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">111111111111111111111111111111</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+----------------------------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| n                                |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+----------------------------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| 0.111111111111111111111111111111 |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+----------------------------------+ */</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="字符类型" tabindex="-1">字符类型 <a class="header-anchor" href="#字符类型" aria-label="Permalink to &quot;字符类型&quot;">​</a></h3><p>字符类型主要分为两种 <code>char</code> 和 <code>varchar</code> 都是可以指定字符的长度。<strong>它们之间的区别是 <code>char</code> 会在如果不足的时候会在末尾补齐空格，在取的时候删除空格。<code>varchar</code> 则不会。</strong></p><ul><li><code>char</code> 每次存取都是固定的字符对于已经固定的内容比如 hash 值，使用 <code>char</code> 性能会比较好, 但是比较浪费资源。最大 255 字符。</li><li><code>varchar</code> 存多少取多少，不会浪费资源，但是性能对比 <code>char</code> 略低。 最大 65535 个字节，但要考虑到需要一个字节为 <code>NULL</code> 标识，<code>varchar</code> 的每一个数据都要有个头用来记录长度的标识， 当数据长度小于 255 的时候，头占一个字节，当数据长度大于 255 小于 65535 的时候，头占两个字节。但是你还要考虑因为是字节转换成字符的时候也有差异，比如 <code>gpk</code> 一个字符是两个字节，<code>utf8</code> 一个字符是三个字节。</li></ul><p><strong>总结：大多数情况下还是用的还是 <code>varchar</code> 宽度尽可能不要超过 255 因为超过 255 后还要多加一个字节存储字符的长度</strong></p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t4</span><span style="color:#A6ACCD;"> (x </span><span style="color:#C792EA;">char</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">), y </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">)) charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8 engine</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">innodb;</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t4 </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">  x  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">  y  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- char_length 用来获取字符的长度</span></span>\n<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> char_length(x), char_length(y) </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> t4;</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/** 从结果可以看出 char 把结尾的空格给去掉了。varchar 则是原文输出</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+----------------+----------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| char_length(x) | char_length(y) |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+----------------+----------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">|              3 |              5 |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+----------------+----------------+ */</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 测试 utf8 下 varchar 的最大范围 65535 / 3 - 1 = 21844</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t6</span><span style="color:#A6ACCD;"> (s </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">21845</span><span style="color:#A6ACCD;">)) charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8 engine</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">innodb;</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- ERROR 1118 (42000): Row size too large. The maximum row size for the used table type, not counting BLOBs, is 65535. This includes storage overhead, check the manual. You have to change some columns to TEXT or BLOBs</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t6</span><span style="color:#A6ACCD;"> (s </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">21844</span><span style="color:#A6ACCD;">)) charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8 engine</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">innodb;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 并且创建 varchar 类型的时候，需要注意一行的数据最大也是 65535，如果这一行有多个字段，varchar 会更小</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t7</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">21842</span><span style="color:#A6ACCD;">)) charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8 engine</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">innodb;</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="时间日期类型" tabindex="-1">时间日期类型 <a class="header-anchor" href="#时间日期类型" aria-label="Permalink to &quot;时间日期类型&quot;">​</a></h3><ul><li><code>year</code> 年份,格式为 YYYY,例如 2023</li><li><code>date</code> 日期,格式为&#39;YYYY-MM-DD&#39;,例如 &#39;2023-02-28&#39;</li><li><code>time</code> 时间,格式为&#39;HH:MM:SS&#39;,例如 &#39;15:30:20&#39;</li><li><code>datetime</code> 日期+时间,格式为&#39;YYYY-MM-DD HH:MM:SS&#39;,例如 &#39;2023-02-28 15:30:20&#39;, 是&#39;1000-01-01 00:00:00&#39; 到 &#39;9999-12-31 23:59:59&#39;。8 个字节</li><li><code>timestamp</code> 时间戳,格式同 DATETIME,但存储的是从 UTC 时间 1970-01-01 00:00:00 到现在的秒数，是 1970 年至 2038 年之间的日期时间。4 个字节</li></ul><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t8</span><span style="color:#A6ACCD;"> (</span></span>\n<span class="line"><span style="color:#A6ACCD;">  id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">  born </span><span style="color:#F78C6C;">year</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  birth </span><span style="color:#C792EA;">date</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  active </span><span style="color:#C792EA;">time</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  reg_time </span><span style="color:#F78C6C;">datetime</span></span>\n<span class="line"><span style="color:#A6ACCD;">) charset</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">utf8 engine</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">innodb;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 使用 now 函数获取当前的日期, 当数据存储的时候 mysql 会自行处理。</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t8 </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">xx</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 如果想要插入自定义的时间和日期，传入符合格式的字符串即可。</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t8 </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yy</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2000</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2000-02-22</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">18:00:00</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2000-02-22 18:00:00</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+------+------+------------+----------+---------------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| id   | name | born | birth      | active   | reg_time            |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+------+------+------------+----------+---------------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">|    1 | xx   | 2023 | 2023-09-26 | 17:36:08 | 2023-09-26 17:36:08 |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">|    2 | yy   | 2000 | 2000-02-22 | 18:00:00 | 2000-02-22 18:00:00 |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+------+------+------------+----------+---------------------+ */</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="枚举和集合" tabindex="-1">枚举和集合 <a class="header-anchor" href="#枚举和集合" aria-label="Permalink to &quot;枚举和集合&quot;">​</a></h3><p><code>enum</code> 枚举和 <code>set</code> 都是用来限定用户可以用来创建什么样的值，<code>enum</code> 为单选、<code>set</code> 为多选。</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t9</span><span style="color:#A6ACCD;"> (</span></span>\n<span class="line"><span style="color:#A6ACCD;">  id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">  gender enum(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">male</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">female</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">other</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">  hobbies </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sing</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">jump</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rap</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t9 </span><span style="color:#F78C6C;">values</span></span>\n<span class="line"><span style="color:#A6ACCD;">  (</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">xx</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">male</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sing</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">  (</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">other</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sing,jump,rap</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+------+--------+---------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| id   | name | gender | hobbies       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+------+--------+---------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">|    1 | xx   | male   | sing          |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">|    2 | cc   | other  | sing,jump,rap |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+------+--------+---------------+ */</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="条件约束" tabindex="-1">条件约束 <a class="header-anchor" href="#条件约束" aria-label="Permalink to &quot;条件约束&quot;">​</a></h2><p>上篇其实已经有关于约束条件使用的案例了,</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- 优先级排序如下：</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- unsigned = zerofill &gt; not null = default = unique = primary key</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#A6ACCD;">[unsigned] [zerofill] [not null] [default]</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- unsigned       无符号, 也就是说只能是正数不能存在符号, 只能针对 int 类型使用。</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- zerofill       对于没有值的字段，使用 0 进行填充，如果是字符类型则填充空字符。</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- not null       不能为空。</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- default        设置默认值。</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- unique         设置该列是否唯一，或者也可以设置多个列组合的值是否唯一。这两种情况为：</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">--                单列唯一，复合唯一。</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- primary key    主键不为空且唯一，对于 innodb 的存储类型来说每张表必须有一个主键，</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">--                如果没有指定 mysql 会查询表中哪个字符合条件就将它设置为组件，否则会</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">--                自己创建一个隐藏的主键。</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">--                主键同样可以设置： 单列主键，复合组件。</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- auto_increment 自动递增，递增是从最后一条数据的字段为依据进行递增，并且设置自动递增的</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">--                字段必须要是 key, unique 或者 primary key 都行，一般为 primary key。</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- foreign key    设置外键，关联表时使用，方式为 foreign key (键名) references 被关联表名(被关联键名)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>目前来看你可能会疑问为什么 <code>not null</code> 一定要在 <code>unsigned</code>、<code>zerofill</code> 的后面。</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t10</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> zerofill unsigned </span><span style="color:#F78C6C;">not null</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#A6ACCD;">describe t10;</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/** 可以看出 zerofill unsigned 是针对 type 的约束，not null 是针对值的约束</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+---------------------------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| Field | Type                      | Null | Key | Default | Extra |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+---------------------------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| id    | int(10) unsigned zerofill | NO   |     | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+---------------------------+------+-----+---------+-------+ */</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="default-默认值的应用" tabindex="-1"><code>default</code> 默认值的应用 <a class="header-anchor" href="#default-默认值的应用" aria-label="Permalink to &quot;`default` 默认值的应用&quot;">​</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t11</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">), gender enum(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">male</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">female</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">not null</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">male</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 插入数据时可以指定插入字段的内容，如果没有插入的值设置了默认值，则使用这个默认值</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t11 (id, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">xx</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t11 </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ff</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">female</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+------+--------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| id   | name | gender |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+------+--------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">|    1 | xx   | male   |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">|    2 | cc   | female |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+------+------+--------+ */</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="unique-不允许该字段存在重复内容" tabindex="-1"><code>unique</code> 不允许该字段存在重复内容 <a class="header-anchor" href="#unique-不允许该字段存在重复内容" aria-label="Permalink to &quot;`unique` 不允许该字段存在重复内容&quot;">​</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">user</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">unique</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">unique</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 第二种写法</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">user</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">), </span><span style="color:#F78C6C;">unique</span><span style="color:#A6ACCD;">(id), </span><span style="color:#F78C6C;">unique</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">));</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#A6ACCD;">describe user;</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/** 增加内容后查看表的结构可以看出 Key 显示未 UNI 表示该字段不能重复。</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| Field | Type        | Null | Key | Default | Extra |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| id    | int(11)     | YES  | UNI | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| name  | varchar(16) | YES  | UNI | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+-------+ */</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>当使用第二种方法时可以指定多个字段不能唯一，比如 a,b 两个字段，a 和 b 都可以重复，但是 a + b 无法重复。</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">addr</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">, addr </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">15</span><span style="color:#A6ACCD;">), port </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">unique</span><span style="color:#A6ACCD;">(id), </span><span style="color:#F78C6C;">unique</span><span style="color:#A6ACCD;">(addr, port));</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 如果再次插入相同的 ip 和 port 则会报错</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> addr </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">192.168.1.1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">3306</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#A6ACCD;">describe addr;</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/** 联合唯一后，可以看出 Key 显示未 MUL</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| Field | Type        | Null | Key | Default | Extra |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| id    | int(11)     | YES  | UNI | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| addr  | varchar(15) | YES  | MUL | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| port  | int(11)     | YES  |     | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+-------+ */</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="primary-key-主键的应用" tabindex="-1"><code>primary key</code> 主键的应用 <a class="header-anchor" href="#primary-key-主键的应用" aria-label="Permalink to &quot;`primary key` 主键的应用&quot;">​</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">user</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">primary key</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">));</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/** Key 为 PRI 即为主键</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| Field | Type        | Null | Key | Default | Extra |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| id    | int(11)     | NO   | PRI | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| name  | varchar(16) | YES  |     | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+-------+ */</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 验证不指定主键 mysql 自己生成的主键</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">user</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">not null</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">unique</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">));</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/** 指定了不为空且唯一时，Key 仍然是 PRI</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| Field | Type        | Null | Key | Default | Extra |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| id    | int(11)     | NO   | PRI | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| name  | varchar(16) | YES  |     | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+-------+ */</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 复合主键的设置和复合唯一基本相同</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">addr</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">, addr </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">15</span><span style="color:#A6ACCD;">), port </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">, </span><span style="color:#C792EA;">primary key</span><span style="color:#A6ACCD;">(addr, port));</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| Field | Type        | Null | Key | Default | Extra |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+-------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| id    | int(11)     | YES  |     | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| host  | varchar(15) | NO   | PRI | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| port  | int(11)     | NO   | PRI | NULL    |       |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+-------+ */</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h3 id="auto-increment-自动递增" tabindex="-1"><code>auto_increment</code> 自动递增 <a class="header-anchor" href="#auto-increment-自动递增" aria-label="Permalink to &quot;`auto_increment` 自动递增&quot;">​</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">t1</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">primary key</span><span style="color:#A6ACCD;"> auto_increment, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">));</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 再次插入数据时就不需要指定 id</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> t1(</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">zhangsan</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+----------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| Field | Type        | Null | Key | Default | Extra          |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+----------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| id    | int(11)     | NO   | PRI | NULL    | auto_increment |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| name  | varchar(16) | YES  |     | NULL    |                |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+-------------+------+-----+---------+----------------+ */</span></span>\n<span class="line"></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 清空表</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- delete from t1;  清空表中的数据，但是子增值不会被清除。</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- truncate t1;     清空表中的数据，并且清空自增值。</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 给 t1 插入若干数据后查看递增值, 可以看出 auto_increment 是 9.</span></span>\n<span class="line"><span style="color:#A6ACCD;">show </span><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> t1;</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| Table | Create Table                                                                                                                                                              |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">| t1    | CREATE TABLE `t1` (</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">  `id` int(11) NOT NULL AUTO_INCREMENT,</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">  `name` varchar(16) DEFAULT NULL,</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">  PRIMARY KEY (`id`)</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8 |</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ */</span></span>\n<span class="line"></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 此时执行 delete from t1; 继续查看，你会发现表中的数据已经被清空，但是 auto_increment 仍然是 9，</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 再次插入数据时仍然从 9 开始计数自增值。</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 如果使用 truncate t1; 则将自增值和数据一并删除，再次新增数据时仍然从 1 开始。</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="foreign-key-references-外键-强关联" tabindex="-1"><code>foreign key ... references</code> 外键（强关联） <a class="header-anchor" href="#foreign-key-references-外键-强关联" aria-label="Permalink to &quot;`foreign key ... references` 外键（强关联）&quot;">​</a></h3><p>假设你现在有一张表 <code>emp</code> 员工信息表, 其中包含 <code>id</code>、<code>name</code>、<code>gender</code>、<code>dep_name</code>、 <code>dep_desc</code>, 分别为名称、性别、部门、部门职责。当数据量增大后，你会发现其中 <code>dep_name</code>、<code>dep_desc</code> 会有很多重复的字段，并且如果这两个字段的内容有所修改将会变的很麻烦，解决的方式就是创建一个关联表，将部门相关的内容全部抽离出去。</p><p><code>emp</code> 只需要存 <code>dep</code> 中的对应的部门 <code>id</code>，这样就算将来有改变也只需要修改 <code>dep</code> 表中对应的信息即可。</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- 需要注意的是，desc 是关键字所以需要用反引号做转移。</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">dep</span><span style="color:#A6ACCD;"> (</span></span>\n<span class="line"><span style="color:#A6ACCD;">  id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">primary key</span><span style="color:#A6ACCD;"> auto_increment,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">desc</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">emp</span><span style="color:#A6ACCD;"> (</span></span>\n<span class="line"><span style="color:#A6ACCD;">  id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">primary key</span><span style="color:#A6ACCD;"> auto_increment,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">  gender enum(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">male</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">femle</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">  dep_id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">-- 创建外键，但前提是 dep 这张表已经存在</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">foreign key</span><span style="color:#A6ACCD;">(dep_id) </span><span style="color:#C792EA;">references</span><span style="color:#A6ACCD;"> dep(id)</span></span>\n<span class="line"><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 插入测试数据</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> dep (</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">desc</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">研发部</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">产品研发</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">), (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">产品部</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">产品设计</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 需要注意，设置了外键之后，如果插入不不存在的外键 id 则会报错。</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> emp (</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> gender, dep_id) </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">张三</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">male</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">), (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">李四</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">male</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="同步" tabindex="-1">同步 <a class="header-anchor" href="#同步" aria-label="Permalink to &quot;同步&quot;">​</a></h4><p>假设先在老板嫌弃研发部投入太大，需要裁撤这个部门。表面来看，直接把 <code>dep</code> 表中的数据直接删除即可。实际上你这么操作是错误的，因为 <code>dep</code> 中关联了 <code>emp</code> 的 id, 如果真的要删，需要先把 <code>dep</code> 下面的研发部门删掉，然后再去删 <code>emp</code> 中研发部的人。除了删除之外修改也不可以。</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">delete</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> emp </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> dep_id</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">;</span></span>\n<span class="line"><span style="color:#F78C6C;">delete</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> dep </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> id</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#F78C6C;">update</span><span style="color:#A6ACCD;"> emp dep_id</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">999</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> id</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">;</span></span>\n<span class="line"><span style="color:#F78C6C;">update</span><span style="color:#A6ACCD;"> dep id</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">999</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> id</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">;</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如果想要解决上面的问题，在创建表的时候需要执行删除和更新同步 <code>on delete cascade</code> <code>on update cascade</code>; 随后操作 <code>dep</code> 表中的数据后，对应的 <code>emp</code> 表只要有关联 id 的数据都会被同步删除或者修改</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">emp</span><span style="color:#A6ACCD;"> (</span></span>\n<span class="line"><span style="color:#A6ACCD;">  id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">primary key</span><span style="color:#A6ACCD;"> auto_increment,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">  gender enum(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">male</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">female</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">  dep_id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">foreign key</span><span style="color:#A6ACCD;">(dep_id) </span><span style="color:#C792EA;">references</span><span style="color:#A6ACCD;"> dep(id) </span><span style="color:#C792EA;">on delete cascade</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">update</span><span style="color:#A6ACCD;"> cascade</span></span>\n<span class="line"><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="关系" tabindex="-1">关系 <a class="header-anchor" href="#关系" aria-label="Permalink to &quot;关系&quot;">​</a></h4><ul><li><p>多对一：两张表不管站在哪张表的角度看，要么多对一，要么是一对多，这就是多对一关系。比如上面示例中的员工表和部门表，站在员工表的角度多个员工可以属于一个部门；站在部门表的角度来看一个部门可以对应多个员工。<strong>对于多对一的关系，外键字段要建在多的一方</strong>，比如多个员工可以在一个部门，外键就在员工这里。</p></li><li><p>多对多：站在两张表的角度都能找到多条关联。假设现在有个歌曲表 <code>song</code> 和歌手表 <code>singer</code>, 首先从 <code>song</code> 来看，多个歌曲可能会属于同一个歌手，再从 <code>singer</code> 来看多个歌手也可能合唱一首歌。那这就是多对多的关系，对于多对多的关系需要把外键抽离出来建立第三张表。</p></li></ul><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- 创建 song</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">song</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">primary key</span><span style="color:#A6ACCD;"> auto_increment, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">));</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 创建 singer</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">singer</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">primary key</span><span style="color:#A6ACCD;"> auto_increment, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">));</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 创建关联表</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">song2singer</span><span style="color:#A6ACCD;"> (</span></span>\n<span class="line"><span style="color:#A6ACCD;">  id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">primary key</span><span style="color:#A6ACCD;"> auto_increment,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  song_id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  singer_id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">foreign key</span><span style="color:#A6ACCD;">(song_id) </span><span style="color:#C792EA;">references</span><span style="color:#A6ACCD;"> song(id) </span><span style="color:#C792EA;">on delete cascade</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">update</span><span style="color:#A6ACCD;"> cascade,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">foreign key</span><span style="color:#A6ACCD;">(singer_id) </span><span style="color:#C792EA;">references</span><span style="color:#A6ACCD;"> singer(id) </span><span style="color:#C792EA;">on delete cascade</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">update</span><span style="color:#A6ACCD;"> cascade</span></span>\n<span class="line"><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 数据插入</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> song(</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">青花瓷</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">), (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">稻香</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">), (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">串烧</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> singer(</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">周杰伦</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">), (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">歌手b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">), (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">歌手b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">), (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">歌手c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> song2singer(song_id, singer_id), </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">), (</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">), (</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">), (</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">), (</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li>一对一：无论站在两个表的哪一个角度都只能找到单独的关系，假设现在有两张表 客户表<code>customer</code> 业主表<code>owner</code>, 客户能发展成业主，业主和客户也是一一对应的，此时外键应该建在哪里就要根据实际情况来确定，想想一下如果将外键放在 <code>customer</code> 中，是不是意味着一定要有对应的业主， 这显然是不合理的，所以外键只能放在 <code>owner</code> 表中，因为业主是由客户发展而成的。</li></ul><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- 创建客户表</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">customer</span><span style="color:#A6ACCD;"> (id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">primary key</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">), gender enum(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">male</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">female</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">), mobile </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">11</span><span style="color:#A6ACCD;">));</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 创建业主表</span></span>\n<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onwer</span><span style="color:#A6ACCD;"> (</span></span>\n<span class="line"><span style="color:#A6ACCD;">  id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">primary key</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  room_num </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  is_loan enum(true, false),</span></span>\n<span class="line"><span style="color:#A6ACCD;">  customer_id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">unique</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">foreign key</span><span style="color:#A6ACCD;">(customer_id) </span><span style="color:#C792EA;">references</span><span style="color:#A6ACCD;"> customer(id) </span><span style="color:#C792EA;">on delete cascade</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">update</span><span style="color:#A6ACCD;"> cascade</span></span>\n<span class="line"><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">-- 插入数据</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> customer </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">张三</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">male</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">124</span><span style="color:#A6ACCD;">), (</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">李四</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">male</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">125</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> onwer </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">8002</span><span style="color:#A6ACCD;">, false, </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">), (</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">9002</span><span style="color:#A6ACCD;">, true, </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">);</span></span>\n<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div>',78)];const t=s(e,[["render",function(s,l,p,e,t,c){return n(),a("div",null,o)}]]);export{p as __pageData,t as default};
